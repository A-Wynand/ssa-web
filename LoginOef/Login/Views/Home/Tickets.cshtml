@model List<Festival.Models.DagBestelling>

@{
    ViewBag.Title = "Tickets";
}

<h2>Tickets</h2>
    @if(WebSecurity.IsAuthenticated){
        <p>Geef hieronder je bestelling door. Per bestelling zijn er maximum 5 tickets van elk soort beschikbaar.</p>
    }
    @if (WebSecurity.IsAuthenticated == false)
    {
        <p>Registreer een account om je tickets te bestellen!</p>
    }
<table>
    <tr>
        <th>
            Soort
        </th>
        @if(WebSecurity.IsAuthenticated){
        <th>
            Aantal
        </th>
        }
        <th>
            Ticketprijs
        </th>
        <th></th>
    </tr>

@using (Html.BeginForm()) {
    @Html.AntiForgeryToken() @*No XSS*@
    @Html.ValidationSummary()

    int i = 0;
    foreach (var item in ViewBag.Tickets) 
    {
        <tr>
            <td>
                @item.soort
            </td>
            @if(WebSecurity.IsAuthenticated){
                <td>
                  
                    @Html.DropDownListFor(m => m[i].aantal,  new SelectList(
                        new List<int>{
                            0,1,2,3,4,5
                        })
                    )
                
                </td>
            }
            <td>
                @item.prijs
            </td>
        </tr>
    
   @* //Model[i].soort = item.soort;*@

        i++;

    }
    if(WebSecurity.IsAuthenticated){
    
        <tr> 
            <td></td>
            <td></td>
            <td>
                <input type="submit" value="Bestel nu!" />
            </td>
        </tr>
    }
}
</table>